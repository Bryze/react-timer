{"version":3,"sources":["webpack:///../docs/examples.mdx","webpack:///../src/index.js"],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","components","props","mdxType","__position","__code","__scope","Playground","ReactTimer","start","end","value","onEnd","console","log","onTick","time","Date","toString","isMDXComponent","children","interval","useState","setValue","timerRef","useRef","useEffect","setInterval","clearInterval","PropTypes","func"],"mappings":"2dAQO,IAAMA,EAAe,Q,kKAE5B,IAKMC,EAAc,CAClBD,gBAEIE,EAAYC,IACH,SAASC,EAAT,GAGZ,IAFDC,EAEC,EAFDA,WACGC,E,oIACF,mBACD,OAAO,YAACJ,EAAD,KAAeD,EAAiBK,EAAhC,CAAuCD,WAAYA,EAAYE,QAAQ,cAG5E,iBAAQ,CACN,GAAM,YADR,YAIA,iBAAQ,CACN,GAAM,qBADR,qBAGA,YAAC,IAAD,CAAYC,WAAY,EAAGC,OAAQ,qMAAwMC,QAAS,CAClPJ,QACAH,kBACAQ,eACAC,gBACCL,QAAQ,cACX,YAAC,IAAD,CAAYM,MAAO,EAAGC,IAAK,SAAAC,GAAK,OAAc,KAAVA,GAAcC,MAAO,SAAAD,GAAK,OAAIE,QAAQC,IAAI,mBAAoBH,IAAQI,OAAQ,SAAAJ,GAAK,OAAIA,EAAQ,GAAGR,QAAQ,eACzI,SAAAa,GAAI,OAAI,uBAAMA,OAGnB,iBAAQ,CACN,GAAM,qBADR,qBAGA,YAAC,IAAD,CAAYZ,WAAY,EAAGC,OAAQ,oMAAuMC,QAAS,CACjPJ,QACAH,kBACAQ,eACAC,gBACCL,QAAQ,cACX,YAAC,IAAD,CAAYM,MAAO,GAAIC,IAAK,SAAAC,GAAK,OAAIA,EAAQ,IAAIC,MAAO,SAAAD,GAAK,OAAIE,QAAQC,IAAI,mBAAoBH,IAAQI,OAAQ,SAAAJ,GAAK,OAAIA,EAAQ,GAAGR,QAAQ,eACxI,SAAAa,GAAI,OAAI,uBAAMA,OAGnB,iBAAQ,CACN,GAAM,kBADR,kBAGA,YAAC,IAAD,CAAYZ,WAAY,EAAGC,OAAQ,2LAA8LC,QAAS,CACxOJ,QACAH,kBACAQ,eACAC,gBACCL,QAAQ,cACX,YAAC,IAAD,CAAYM,MAAO,EAAGC,IAAK,kBAAM,GAAOE,MAAO,SAAAD,GAAK,OAAIE,QAAQC,IAAI,mBAAoBH,IAAQI,OAAQ,SAAAJ,GAAK,OAAIA,EAAQ,GAAGR,QAAQ,eAC/H,SAAAa,GAAI,OAAI,uBAAMA,OAGnB,iBAAQ,CACN,GAAM,eADR,eAGA,YAAC,IAAD,CAAYZ,WAAY,EAAGC,OAAQ,6LAAgMC,QAAS,CAC1OJ,QACAH,kBACAQ,eACAC,gBACCL,QAAQ,cACX,YAAC,IAAD,CAAYM,MAAO,EAAGC,IAAK,kBAAM,GAAOE,MAAO,SAAAD,GAAK,OAAIE,QAAQC,IAAI,mBAAoBH,IAAQI,OAAQ,SAAAJ,GAAK,OAAIA,EAAQ,GAAGR,QAAQ,eAC/H,kBAAM,IAAIc,MAAOC,gB,yJAO1BlB,EAAWmB,gBAAiB,G,kECnFtBX,EAAa,SAAC,GAOb,IANLY,EAMI,EANJA,SAMI,IALJX,aAKI,MALI,EAKJ,MAJJC,WAII,MAJE,qBAIF,MAHJW,gBAGI,MAHO,IAGP,MAFJT,aAEI,MAFI,aAEJ,MADJG,cACI,MADK,aACL,IACsBO,mBADtB,GACGX,EADH,KACUY,EADV,KAEEC,EAAWC,mBAkBjB,OAhBAC,qBAAU,WACHF,EAAL,UACEA,UAAmBG,aAAY,WAC7BJ,GAAS,mBAASR,EAAT,QADXS,IAIEd,EAAJ,KACEkB,cAAcJ,EAAdI,SACAhB,QAED,CAACF,EAAI,EAAL,IAVHgB,IAYAA,qBAAU,kBAAM,WACdE,cAAcJ,EAAdI,YADFF,IAION,EAAP,IAGFZ,YAAuB,CACrBY,SAAUS,SADW,WAErBpB,MAAOoB,WAFc,WAGrBnB,IAAKmB,SAHgB,WAIrBR,SAAUQ,IAJW,OAKrBd,OAAQc,IALa,KAMrBjB,MAAOiB,IAAUC,MAGnB,M","file":"component---docs-examples-mdx-4869406bbbb496bd39da.js","sourcesContent":["import React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsx mdx */\n\nimport DefaultLayout from \"/home/travis/build/xendora/react-timer/node_modules/gatsby-theme-docz/src/base/Layout.js\";\nimport { Playground } from 'docz';\nimport ReactTimer from '../src/index';\nexport const _frontmatter = {};\n\nconst makeShortcode = name => function MDXDefaultShortcode(props) {\n  console.warn(\"Component \" + name + \" was not imported, exported, or provided by MDXProvider as global scope\");\n  return <div {...props} />;\n};\n\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"examples\"\n    }}>{`Examples`}</h1>\n\n    <h2 {...{\n      \"id\": \"incremental-timer\"\n    }}>{`Incremental timer`}</h2>\n    <Playground __position={0} __code={'<ReactTimer\\n  start={0}\\n  end={value => value === 30}\\n  onEnd={value => console.log(\\'ENDED WITH VALUE\\', value)}\\n  onTick={value => value + 1}\\n>\\n  {time => <div>{time}</div>}\\n</ReactTimer>'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      ReactTimer\n    }} mdxType=\"Playground\">\n    <ReactTimer start={0} end={value => value === 30} onEnd={value => console.log('ENDED WITH VALUE', value)} onTick={value => value + 1} mdxType=\"ReactTimer\">\n        {time => <div>{time}</div>}\n    </ReactTimer>\n    </Playground>\n    <h2 {...{\n      \"id\": \"decremental-timer\"\n    }}>{`Decremental timer`}</h2>\n    <Playground __position={1} __code={'<ReactTimer\\n  start={30}\\n  end={value => value < 25}\\n  onEnd={value => console.log(\\'ENDED WITH VALUE\\', value)}\\n  onTick={value => value - 1}\\n>\\n  {time => <div>{time}</div>}\\n</ReactTimer>'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      ReactTimer\n    }} mdxType=\"Playground\">\n    <ReactTimer start={30} end={value => value < 25} onEnd={value => console.log('ENDED WITH VALUE', value)} onTick={value => value - 1} mdxType=\"ReactTimer\">\n        {time => <div>{time}</div>}\n    </ReactTimer>\n    </Playground>\n    <h2 {...{\n      \"id\": \"infinite-timer\"\n    }}>{`Infinite timer`}</h2>\n    <Playground __position={2} __code={'<ReactTimer\\n  start={0}\\n  end={() => false}\\n  onEnd={value => console.log(\\'ENDED WITH VALUE\\', value)}\\n  onTick={value => value + 1}\\n>\\n  {time => <div>{time}</div>}\\n</ReactTimer>'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      ReactTimer\n    }} mdxType=\"Playground\">\n    <ReactTimer start={0} end={() => false} onEnd={value => console.log('ENDED WITH VALUE', value)} onTick={value => value + 1} mdxType=\"ReactTimer\">\n        {time => <div>{time}</div>}\n    </ReactTimer>\n    </Playground>\n    <h2 {...{\n      \"id\": \"basic-clock\"\n    }}>{`Basic Clock`}</h2>\n    <Playground __position={3} __code={'<ReactTimer\\n  start={0}\\n  end={() => false}\\n  onEnd={value => console.log(\\'ENDED WITH VALUE\\', value)}\\n  onTick={value => value + 1}\\n>\\n  {() => new Date().toString()}\\n</ReactTimer>'} __scope={{\n      props,\n      DefaultLayout,\n      Playground,\n      ReactTimer\n    }} mdxType=\"Playground\">\n    <ReactTimer start={0} end={() => false} onEnd={value => console.log('ENDED WITH VALUE', value)} onTick={value => value + 1} mdxType=\"ReactTimer\">\n        {() => new Date().toString()}\n    </ReactTimer>\n    </Playground>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      ","import { useState, useEffect, useRef } from 'react';\nimport PropTypes from 'prop-types';\n\nconst ReactTimer = ({\n  children,\n  start = 0,\n  end = () => true,\n  interval = 1000,\n  onEnd = () => { },\n  onTick = () => { },\n}) => {\n  const [value, setValue] = useState(start);\n  const timerRef = useRef();\n\n  useEffect(() => {\n    if (!timerRef.current) {\n      timerRef.current = setInterval(() => {\n        setValue((val) => onTick(val));\n      }, interval);\n    }\n    if (end(value)) {\n      clearInterval(timerRef.current);\n      onEnd(value);\n    }\n  }, [end, interval, onEnd, onTick, value]);\n\n  useEffect(() => () => {\n    clearInterval(timerRef.current);\n  }, []);\n\n  return children(value);\n};\n\nReactTimer.propTypes = {\n  children: PropTypes.func.isRequired,\n  start: PropTypes.number.isRequired,\n  end: PropTypes.func.isRequired,\n  interval: PropTypes.number,\n  onTick: PropTypes.func,\n  onEnd: PropTypes.func,\n};\n\nexport default ReactTimer;\n"],"sourceRoot":""}